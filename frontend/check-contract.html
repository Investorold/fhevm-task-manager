<!DOCTYPE html>
<html>
<head>
    <title>Check Contract</title>
    <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js"></script>
</head>
<body>
    <h1>Contract Checker</h1>
    <button onclick="checkContract()">Check Contract</button>
    <div id="result"></div>

    <script>
        async function checkContract() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<p>Checking contract...</p>';
            
            try {
                // Your contract address
                const contractAddress = '0x30182D50035E926e5Ab728561070e1ba2c14B2A1';
                
                // Connect to Sepolia
                const provider = new ethers.providers.JsonRpcProvider('https://sepolia.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161');
                
                // Check if contract exists
                const code = await provider.getCode(contractAddress);
                
                if (code === '0x') {
                    resultDiv.innerHTML = '<p style="color: red;">❌ No contract found at this address!</p>';
                    return;
                }
                
                resultDiv.innerHTML = '<p style="color: green;">✅ Contract exists!</p>';
                
                // Try to call a simple method
                const simpleABI = [
                    "function taskCreationFee() external view returns (uint256)"
                ];
                
                const contract = new ethers.Contract(contractAddress, simpleABI, provider);
                
                try {
                    const fee = await contract.taskCreationFee();
                    resultDiv.innerHTML += '<p style="color: green;">✅ taskCreationFee(): ' + ethers.utils.formatEther(fee) + ' ETH</p>';
                } catch (e) {
                    resultDiv.innerHTML += '<p style="color: red;">❌ taskCreationFee() failed: ' + e.message + '</p>';
                }
                
            } catch (error) {
                resultDiv.innerHTML = '<p style="color: red;">❌ Error: ' + error.message + '</p>';
            }
        }
    </script>
</body>
</html>
